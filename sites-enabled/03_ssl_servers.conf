# SSL handling - one per server_name

# BEGIN server block for vcea.wsu.edu
#
# We don't force HTTPS for vcea.wsu.edu yet on the front-end.
server {
    server_name vcea.wsu.edu;

    include /etc/nginx-wsuwp-common-header.conf;

    ssl on;
    ssl_certificate     /etc/nginx/ssl/vcea.wsu.edu.cer;
    ssl_certificate_key /etc/nginx/ssl/vcea.wsu.edu.key;

    include /etc/nginx/wsuwp-ssl-common.conf;
    include /etc/nginx/wsuwp-common.conf;
}
# END server block for vcea.wsu.edu

# BEGIN server block for forlang.wsu.edu
server {
    listen 80;
    server_name www.forlang.wsu.edu forlang.wsu.edu;

    rewrite /help/keyboards2.asp?PHPSESSID=e0c8b8f6491f03954a412be9221c1672 https://forlang.wsu.edu/help-pages/help-pages-keyboards-os-x/ permanent;

    return 301 https://forlang.wsu.edu$request_uri;
}

server {
    listen 443 ssl spdy;
    server_name www.forlang.wsu.edu;

    ssl on;
    ssl_certificate     /etc/nginx/ssl/forlang.wsu.edu.cer;
    ssl_certificate_key /etc/nginx/ssl/forlang.wsu.edu.key;

    include /etc/nginx/wsuwp-ssl-common.conf;
    return 301 https://forlang.wsu.edu$request_uri;
}

server {
    listen 443 ssl spdy;
    server_name forlang.wsu.edu;
    root /var/www/wordpress;

    ssl on;
    ssl_certificate     /etc/nginx/ssl/forlang.wsu.edu.cer;
    ssl_certificate_key /etc/nginx/ssl/forlang.wsu.edu.key;

    include /etc/nginx/wsuwp-ssl-common.conf;

    rewrite ^/help/keyboards.asp https://forlang.wsu.edu/help-pages/microsoft-keyboards-standard-english-us101/? permanent;
    rewrite ^/help/keyboards2.asp https://forlang.wsu.edu/help-pages/help-pages-keyboards-os-x/? permanent;

    include /etc/nginx/wsuwp-common.conf;
}
# END server block for forlang.wsu.edu

server {
    listen 443 ssl spdy;
    server_name www.foundation.wsu.edu;

    ssl on;
    ssl_certificate     /etc/nginx/ssl/foundation.wsu.edu.cer;
    ssl_certificate_key /etc/nginx/ssl/foundation.wsu.edu.key;

    include /etc/nginx/wsuwp-ssl-common.conf;
    return 301 https://foundation.wsu.edu$request_uri;
}

server {
    listen 443 ssl spdy;
    server_name foundation.wsu.edu;
    root /var/www/wordpress;

    ssl on;
    ssl_certificate     /etc/nginx/ssl/foundation.wsu.edu.cer;
    ssl_certificate_key /etc/nginx/ssl/foundation.wsu.edu.key;

    include /etc/nginx/wsuwp-ssl-common.conf;

    rewrite ^/campaign/img/(.*) https://foundation.wsu.edu/wp-content/themes/wsu-foundation-theme/external/img/campaign/img/$1 permanent;
    rewrite ^/(img|css|js)/ https://foundation.wsu.edu/wp-content/themes/wsu-foundation-theme/external$request_uri permanent;

    include /etc/nginx/wsuwp-common.conf;
}

# BEGIN generated server block for admission.wsu.edu
#
# Generated 2015-08-07 22:32:33 by jeremy.felt
server {
    listen 80;
    server_name admission.wsu.edu www.admission.wsu.edu
                admissions.wsu.edu blogs.admission.wsu.edu
                futurestudent.wsu.edu futurestudents.wsu.edu;
    return 301 https://admission.wsu.edu$request_uri;
}

server {
    listen 443 ssl spdy;
    server_name www.admission.wsu.edu;

    ssl on;
    ssl_certificate     /etc/nginx/ssl/admission.wsu.edu.cer;
    ssl_certificate_key /etc/nginx/ssl/admission.wsu.edu.key;

    include /etc/nginx/wsuwp-ssl-common.conf;
    return 301 https://admission.wsu.edu$request_uri;
}

server {
    listen 443 ssl spdy;
    server_name blog.admissions.wsu.edu;
    root /var/www/wordpress;

    ssl on;
    ssl_certificate     /etc/nginx/ssl/blog.admissions.wsu.edu.cer;
    ssl_certificate_key /etc/nginx/ssl/blog.admissions.wsu.edu.key;

    include /etc/nginx/wsuwp-ssl-common.conf;
    return 301 https://admission.wsu.edu$request_uri;
}

server {
    listen 443 ssl spdy;
    server_name blogs.admission.wsu.edu www.blogs.admission.wsu.edu;

    ssl on;
    ssl_certificate     /etc/nginx/ssl/blogs.admission.wsu.edu.cer;
    ssl_certificate_key /etc/nginx/ssl/blogs.admission.wsu.edu.key;

    include /etc/nginx/wsuwp-ssl-common.conf;
    return 301 https://admission.wsu.edu$request_uri;
}

server {
    listen 443 ssl spdy;
    server_name admission.wsu.edu;
    root /var/www/wordpress;

    ssl on;
    ssl_certificate     /etc/nginx/ssl/admission.wsu.edu.cer;
    ssl_certificate_key /etc/nginx/ssl/admission.wsu.edu.key;

    include /etc/nginx/wsuwp-ssl-common.conf;

    rewrite ^/contact/counselors.html http://apps.admission.wsu.edu/counselors/ permanent;
    rewrite ^/index.html https://admission.wsu.edu/ permanent;
    rewrite ^/academics/index.html https://admission.wsu.edu/academics/ permanent;
    rewrite ^/requirements/index.html https://admission.wsu.edu/apply/as/find-your-application/ permanent;
    rewrite ^/visits/index.html https://admission.wsu.edu/visits/ permanent;
    rewrite ^/requirements/deadlines.html https://admission.wsu.edu/apply/deadlines/ permanent;
    rewrite ^/scholarships/index.html https://admission.wsu.edu/scholarships/ permanent;
    rewrite ^/requirements/freshman.html https://admission.wsu.edu/apply/as/freshmen/requirements/ permanent;
    rewrite ^/transfer/index.html https://admission.wsu.edu/apply/as/transfer/requirements/ permanent;
    rewrite ^/visits/individual/calendar.aspx https://admission.wsu.edu/visits/campus-tours/why-attend/ permanent;
    rewrite ^/visits/individual/index.html https://admission.wsu.edu/visits/campus-tours/why-attend/ permanent;
    rewrite ^/requirements/assured.html https://admission.wsu.edu/apply/as/freshman/assured-admission/ permanent;
    rewrite ^/scholarships/out-of-state.html https://admission.wsu.edu/scholarships/non-washington-residents/how-to-apply/ permanent;
    rewrite ^/applications/zzusis.html https://admission.wsu.edu/apply/mywsu/ permanent;
    rewrite ^/transfer/requirements.html https://admission.wsu.edu/apply/as/transfer/requirements permanent;
    rewrite ^/contact/index.html https://admission.wsu.edu/contact/ permanent;
    rewrite ^/requirements/residency.html https://admission.wsu.edu/scholarships/residency/ permanent;
    rewrite ^/scholarships/cost.html https://admission.wsu.edu/tuition-costs/tuition-break-down/ permanent;
    rewrite ^/zzusis.html https://admission.wsu.edu/apply/mywsu/ permanent;
    rewrite ^/transfer/credits.html https://admission.wsu.edu/apply/as/transfer/credits/ permanent;
    rewrite ^/academics/fos/(.*) http://apps.admission.wsu.edu/academics/fos/$1 permanent;
    rewrite ^/applications/ https://admission.wsu.edu/apply/as/find-your-application/ permanent;
    rewrite ^/applications https://admission.wsu.edu/apply/as/find-your-application/ permanent;
    include /etc/nginx/wsuwp-common.conf;
}
# END generated server block for admission.wsu.edu